# Review

## 项目工程

- xmake 可以管理跨平台包依赖

- 只有代码开源



## 代码结构

- `SingleNETtype` / `dynamic_cast`

- 关于 “需要输出的寄存器，如果寄存器有改动直接在这里改名称然后添加新的解析方法”
    增加新的寄存器类型，但是你还是要在 parser 里面加处理寄存器的函数
    所以这个处理就没有什么意义
    稳定 + 变化

    之前我记得你的设计是用多态，封装不同的寄存器类型
    这个设计是可以的，稳定的部分是 寄存器 需要被输出这个方法，不同的就是各类寄存器
    
    但其实我们没有必要提前优化我们的程序（），这个直接输出这两种寄存器类型即可

- 可以加一层中间层，先把外部输入到一个自定义的数据结构中，再用这个数据结构进行解析。这样我们之后更换输入文件，就只需要修改输入到自定义数据结构那一层



## 实现细节

- 代码风格

- `eunm` -> `enum class`。`enum` 中定义的枚举值直接对全局开放

- 不要打开 std

- 有些函数使用引用作为输出参数，最好设计为 "输入 => 输出"（函数式）

- 有些函数太长了，可读性比较差

- 插入 map 的 API：map[k] = v => emplace

- parse 模块直接分一个 Reader、Writer 结构会比较清晰

- debug 模块下有日志功能，不用 std::cout

- `auto` 关键字

- Box 的 `get` 方法

- 参数传递，`std::move`
